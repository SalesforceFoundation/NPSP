<template>
    <template if:true={isBatchMode}>
        <c-ge-batch-gift-entry-header
                batch-id={recordId}
                batch-totals={batchTotals}
                is-permission-error={isPermissionError}
                onbatchdryrun={handleBatchDryRun}
                onedit={handleEditBatch}
                onprocessbatch={handleProcessBatch}>
        </c-ge-batch-gift-entry-header>
    </template>

    <c-ge-form-renderer
            batch-id={recordId}
            onsubmit={handleSubmit}
            onsectionsretrieved={handleSectionsRetrieved}
            onpermissionerror={handlePermissionErrors}
            ontogglemodal={handleToggleModal}
            onnavigate={handleNavigateEvent}
            loading-text={loadingText}
            batch-currency-iso-code={batchCurrencyIsoCode}>
    </c-ge-form-renderer>

    <template if:false={isPermissionError}>
        <template if:true={isBatchMode}>
            <c-ge-batch-gift-entry-table
                    title={giftsTableTitle}
                    count={count}
                    expected-count={expectedCountOfGifts}
                    total={total}
                    expected-total={expectedTotalBatchAmount}
                    user-defined-batch-table-column-names={userDefinedBatchTableColumnNames}
                    batch-id={recordId}
                    onloaddata={handleLoadData}
                    ondelete={handleDelete}
                    oncountchanged={handleCountChanged}
                    ontotalchanged={handleTotalChanged}
                    onselectcolumns={handleSelectColumns}
                    batch-currency-iso-code={batchCurrencyIsoCode}>
            </c-ge-batch-gift-entry-table>
        </template>
    </template>
</template>