<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <compactLayouts>
        <fullName>NPSP_Payment_Compact_Layout</fullName>
        <fields>Name</fields>
        <fields>npe01__Payment_Amount__c</fields>
        <fields>npe01__Scheduled_Date__c</fields>
        <label>NPSP Payment Compact Layout</label>
    </compactLayouts>
    <enableEnhancedLookup>false</enableEnhancedLookup>
    <fieldSets>
        <fullName>Payment_WizardFS</fullName>
        <availableFields>
            <field>npe01__Check_Reference_Number__c</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </availableFields>
        <availableFields>
            <field>npe01__Custom_Payment_Field__c</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </availableFields>
        <availableFields>
            <field>IsDeleted</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </availableFields>
        <availableFields>
            <field>Name</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </availableFields>
        <availableFields>
            <field>npe01__Opportunity__c</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </availableFields>
        <availableFields>
            <field>Payment_Acknowledged_Date__c</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </availableFields>
        <availableFields>
            <field>Payment_Acknowledgment_Status__c</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </availableFields>
        <availableFields>
            <field>npe01__Payment_Method__c</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </availableFields>
        <availableFields>
            <field>npe01__Written_Off__c</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </availableFields>
        <description>Schedule Payments Wizard</description>
        <displayedFields>
            <field>npe01__Payment_Amount__c</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </displayedFields>
        <displayedFields>
            <field>npe01__Scheduled_Date__c</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </displayedFields>
        <displayedFields>
            <field>npe01__Payment_Date__c</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </displayedFields>
        <displayedFields>
            <field>npe01__Paid__c</field>
            <isFieldManaged>false</isFieldManaged>
            <isRequired>false</isRequired>
        </displayedFields>
        <label>Payment Wizard FS</label>
    </fieldSets>
    <fields>
        <fullName>Payment_Acknowledged_Date__c</fullName>
        <description>Used to track date opportunity was acknowledged</description>
        <externalId>false</externalId>
        <inlineHelpText>Date of acknowledgment</inlineHelpText>
        <label>Payment Acknowledged Date</label>
        <required>false</required>
        <trackTrending>false</trackTrending>
        <type>Date</type>
    </fields>
    <fields>
        <fullName>Payment_Acknowledgment_Status__c</fullName>
        <description>Status of Acknowledgment of this payment.</description>
        <externalId>false</externalId>
        <inlineHelpText>Status of Acknowledgment of this payment.</inlineHelpText>
        <label>Payment Acknowledgment Status</label>
        <required>false</required>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>To Be Acknowledged</fullName>
                    <default>false</default>
                    <label>To Be Acknowledged</label>
                </value>
                <value>
                    <fullName>Acknowledged</fullName>
                    <default>false</default>
                    <label>Acknowledged</label>
                </value>
                <value>
                    <fullName>Do Not Acknowledge</fullName>
                    <default>false</default>
                    <label>Do Not Acknowledge</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <validationRules>
        <fullName>Require_Pay_Date_on_Paid_Payments</fullName>
        <active>true</active>
        <errorConditionFormula>AND( $Setup.npe01__Contacts_And_Orgs_Settings__c.Enforce_Accounting_Rules__c,  npe01__Paid__c,  ISNULL( npe01__Payment_Date__c )  )</errorConditionFormula>
        <errorDisplayField>npe01__Payment_Date__c</errorDisplayField>
        <errorMessage>A paid payment must have a payment date.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>Require_Scheduled_Date_on_Unpaid_Payment</fullName>
        <active>true</active>
        <errorConditionFormula>AND( $Setup.npe01__Contacts_And_Orgs_Settings__c.Enforce_Accounting_Rules__c,  NOT(npe01__Paid__c),  ISNULL(  npe01__Scheduled_Date__c )  )</errorConditionFormula>
        <errorDisplayField>npe01__Scheduled_Date__c</errorDisplayField>
        <errorMessage>An unpaid payment must have a scheduled date.</errorMessage>
    </validationRules>
</CustomObject>
